{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate,useParams}from'react-router-dom';//import BookCard from '../components/BookCard';\n//import LoadingSpinner from '../components/LoadingSpinner';\n//import './BookDetailPage.css';\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookDetailPage=()=>{const{id}=useParams();const navigate=useNavigate();const[book,setBook]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchBook=async()=>{try{setLoading(true);const response=await fetch(\"http://localhost:8080/api/v1/books/\".concat(id));if(!response.ok){throw new Error('Failed to fetch book details');}const data=await response.json();setBook(data);setError(null);}catch(err){setError(err.message);console.error('Error fetching book:',err);}finally{setLoading(false);}};if(id){fetchBook();}},[id]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl\",children:\"Loading...\"})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center min-h-screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl text-red-600 mb-4\",children:[\"Error: \",error]}),/*#__PURE__*/_jsx(Link,{to:\"/books\",className:\"text-blue-600 hover:underline\",children:\"Go back to Book List\"})]});}if(!book){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center min-h-screen\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl mb-4\",children:\"Book not found\"}),/*#__PURE__*/_jsx(Link,{to:\"/books\",className:\"text-blue-600 hover:underline\",children:\"Go back to Book List\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(Link,{to:\"/books\",className:\"text-blue-600 hover:underline mb-4 inline-block\",children:\"\\u2190 Back to Book List\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-4\",children:book.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Author:\"}),\" \",book.author]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"ISBN:\"}),\" \",book.isbn]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Year:\"}),\" \",book.year]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Price:\"}),\" \\u0E3F\",book.price]})]})]})]});};export default BookDetailPage;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","BookDetailPage","id","navigate","book","setBook","loading","setLoading","error","setError","fetchBook","response","fetch","concat","ok","Error","data","json","err","message","console","className","children","to","title","author","isbn","year","price"],"sources":["/workspaces/befe-660710245/week9-lab2/MyBookStore-main/src/pages/BookDetailPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate, useParams } from 'react-router-dom';\r\n//import BookCard from '../components/BookCard';\r\n//import LoadingSpinner from '../components/LoadingSpinner';\r\n//import './BookDetailPage.css';\r\n\r\nconst BookDetailPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [book, setBook] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchBook = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await fetch(`http://localhost:8080/api/v1/books/${id}`);\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch book details');\r\n        }\r\n\r\n        const data = await response.json();\r\n        setBook(data);\r\n        setError(null);\r\n      } catch (err) {\r\n        setError(err.message);\r\n        console.error('Error fetching book:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (id) {\r\n      fetchBook();\r\n    }\r\n  }, [id]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <div className=\"text-xl\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"flex flex-col justify-center items-center min-h-screen\">\r\n        <div className=\"text-xl text-red-600 mb-4\">Error: {error}</div>\r\n        <Link to=\"/books\" className=\"text-blue-600 hover:underline\">\r\n          Go back to Book List\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!book) {\r\n    return (\r\n      <div className=\"flex flex-col justify-center items-center min-h-screen\">\r\n        <div className=\"text-xl mb-4\">Book not found</div>\r\n        <Link to=\"/books\" className=\"text-blue-600 hover:underline\">\r\n          Go back to Book List\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <Link to=\"/books\" className=\"text-blue-600 hover:underline mb-4 inline-block\">\r\n        ← Back to Book List\r\n      </Link>\r\n\r\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n        <h1 className=\"text-3xl font-bold mb-4\">{book.title}</h1>\r\n        <div className=\"space-y-3\">\r\n          <p><span className=\"font-semibold\">Author:</span> {book.author}</p>\r\n          <p><span className=\"font-semibold\">ISBN:</span> {book.isbn}</p>\r\n          <p><span className=\"font-semibold\">Year:</span> {book.year}</p>\r\n          <p><span className=\"font-semibold\">Price:</span> ฿{book.price}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}