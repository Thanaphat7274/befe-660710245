{"ast":null,"code":"import _objectSpread from\"/workspaces/befe-660710245/week9-lab2/MyBookStore-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{BookOpenIcon,LogoutIcon}from'@heroicons/react/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddBookPage=()=>{const navigate=useNavigate();const[formData,setFormData]=useState({title:'',author:'',isbn:'',year:'',price:''});const[errors,setErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[successMessage,setSuccessMessage]=useState('');useEffect(()=>{// Check authentication\nconst isAuthenticated=localStorage.getItem('isAdminAuthenticated');if(!isAuthenticated){navigate('/login');}},[navigate]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Clear error for this field when user starts typing\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};const validateForm=()=>{const newErrors={};// Title validation\nif(!formData.title.trim()){newErrors.title='กรุณากรอกชื่อหนังสือ';}else if(formData.title.length<2){newErrors.title='ชื่อหนังสือต้องมีอย่างน้อย 2 ตัวอักษร';}// Author validation\nif(!formData.author.trim()){newErrors.author='กรุณากรอกชื่อผู้แต่ง';}else if(formData.author.length<2){newErrors.author='ชื่อผู้แต่งต้องมีอย่างน้อย 2 ตัวอักษร';}// ISBN validation\nif(!formData.isbn.trim()){newErrors.isbn='กรุณากรอก ISBN';}else if(!/^[0-9-]+$/.test(formData.isbn)){newErrors.isbn='ISBN ต้องเป็นตัวเลขและเครื่องหมาย - เท่านั้น';}// Year validation\nif(!formData.year){newErrors.year='กรุณากรอกปีที่ตีพิมพ์';}else{const yearNum=parseInt(formData.year);const currentYear=new Date().getFullYear();if(isNaN(yearNum)){newErrors.year='ปีต้องเป็นตัวเลขเท่านั้น';}else if(yearNum<1000||yearNum>currentYear+1){newErrors.year=\"\\u0E1B\\u0E35\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07 1000 \\u0E16\\u0E36\\u0E07 \".concat(currentYear+1);}}// Price validation\nif(!formData.price){newErrors.price='กรุณากรอกราคา';}else{const priceNum=parseFloat(formData.price);if(isNaN(priceNum)){newErrors.price='ราคาต้องเป็นตัวเลขเท่านั้น';}else if(priceNum<=0){newErrors.price='ราคาต้องมากกว่า 0';}else if(priceNum>999999){newErrors.price='ราคาต้องไม่เกิน 999,999 บาท';}}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();setSuccessMessage('');if(!validateForm()){return;}setIsSubmitting(true);try{const response=await fetch('/api/v1/books/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({title:formData.title.trim(),author:formData.author.trim(),isbn:formData.isbn.trim(),year:parseInt(formData.year),price:parseFloat(formData.price)})});if(!response.ok){throw new Error('Failed to add book');}const data=await response.json();setSuccessMessage(\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D \\\"\".concat(data.title,\"\\\" \\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08!\"));// Reset form\nsetFormData({title:'',author:'',isbn:'',year:'',price:''});// Clear success message after 5 seconds\nsetTimeout(()=>setSuccessMessage(''),5000);}catch(error){setErrors({submit:'เกิดข้อผิดพลาดในการเพิ่มหนังสือ: '+error.message});}finally{setIsSubmitting(false);}};const handleLogout=()=>{localStorage.removeItem('isAdminAuthenticated');navigate('/login');};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-gradient-to-r from-viridian-600 to-green-700 text-white shadow-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(BookOpenIcon,{className:\"h-8 w-8\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"BookStore - BackOffice\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"flex items-center space-x-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors\",children:[/*#__PURE__*/_jsx(LogoutIcon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900 mb-6\",children:\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D\\u0E43\\u0E2B\\u0E21\\u0E48\"}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 bg-green-50 border border-green-400 text-green-700 px-4 py-3 rounded-lg\",children:successMessage}),errors.submit&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded-lg\",children:errors.submit}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"title\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:formData.title,onChange:handleChange,className:\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2\\n                    \".concat(errors.title?'border-red-500 focus:ring-red-500':'border-gray-300 focus:ring-viridian-500'),placeholder:\"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D\"}),errors.title&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.title})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"author\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E41\\u0E15\\u0E48\\u0E07 \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"author\",name:\"author\",value:formData.author,onChange:handleChange,className:\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2\\n                    \".concat(errors.author?'border-red-500 focus:ring-red-500':'border-gray-300 focus:ring-viridian-500'),placeholder:\"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E41\\u0E15\\u0E48\\u0E07\"}),errors.author&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.author})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"isbn\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"ISBN \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"isbn\",name:\"isbn\",value:formData.isbn,onChange:handleChange,className:\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2\\n                    \".concat(errors.isbn?'border-red-500 focus:ring-red-500':'border-gray-300 focus:ring-viridian-500'),placeholder:\"\\u0E01\\u0E23\\u0E2D\\u0E01 ISBN (\\u0E15\\u0E31\\u0E27\\u0E2D\\u0E22\\u0E48\\u0E32\\u0E07: 978-3-16-148410-0)\"}),errors.isbn&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.isbn})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"year\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"\\u0E1B\\u0E35\\u0E17\\u0E35\\u0E48\\u0E15\\u0E35\\u0E1E\\u0E34\\u0E21\\u0E1E\\u0E4C \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"year\",name:\"year\",value:formData.year,onChange:handleChange,className:\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2\\n                      \".concat(errors.year?'border-red-500 focus:ring-red-500':'border-gray-300 focus:ring-viridian-500'),placeholder:\"\\u0E40\\u0E0A\\u0E48\\u0E19 2024\"}),errors.year&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.year})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"price\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"\\u0E23\\u0E32\\u0E04\\u0E32 (\\u0E1A\\u0E32\\u0E17) \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"price\",name:\"price\",value:formData.price,onChange:handleChange,step:\"0.01\",className:\"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2\\n                      \".concat(errors.price?'border-red-500 focus:ring-red-500':'border-gray-300 focus:ring-viridian-500'),placeholder:\"\\u0E40\\u0E0A\\u0E48\\u0E19 350.00\"}),errors.price&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.price})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting,className:\"flex-1 py-3 px-6 rounded-lg font-semibold text-white\\n                    transition-colors duration-200\\n                    \".concat(isSubmitting?'bg-gray-400 cursor-not-allowed':'bg-viridian-600 hover:bg-viridian-700'),children:isSubmitting?'กำลังบันทึก...':'เพิ่มหนังสือ'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/'),className:\"px-6 py-3 border-2 border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50 transition-colors\",children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"})]})]})]})})})]});};export default AddBookPage;","map":{"version":3,"names":["useState","useEffect","useNavigate","BookOpenIcon","LogoutIcon","jsx","_jsx","jsxs","_jsxs","AddBookPage","navigate","formData","setFormData","title","author","isbn","year","price","errors","setErrors","isSubmitting","setIsSubmitting","successMessage","setSuccessMessage","isAuthenticated","localStorage","getItem","handleChange","e","name","value","target","prev","_objectSpread","validateForm","newErrors","trim","length","test","yearNum","parseInt","currentYear","Date","getFullYear","isNaN","concat","priceNum","parseFloat","Object","keys","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","setTimeout","error","submit","message","handleLogout","removeItem","className","children","onClick","onSubmit","htmlFor","type","id","onChange","placeholder","step","disabled"],"sources":["/workspaces/befe-660710245/week9-lab2/MyBookStore-main/src/pages/AddBookPage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { BookOpenIcon, LogoutIcon } from '@heroicons/react/outline';\n\nconst AddBookPage = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    title: '',\n    author: '',\n    isbn: '',\n    year: '',\n    price: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  useEffect(() => {\n    // Check authentication\n    const isAuthenticated = localStorage.getItem('isAdminAuthenticated');\n    if (!isAuthenticated) {\n      navigate('/login');\n    }\n  }, [navigate]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    // Clear error for this field when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    // Title validation\n    if (!formData.title.trim()) {\n      newErrors.title = 'กรุณากรอกชื่อหนังสือ';\n    } else if (formData.title.length < 2) {\n      newErrors.title = 'ชื่อหนังสือต้องมีอย่างน้อย 2 ตัวอักษร';\n    }\n\n    // Author validation\n    if (!formData.author.trim()) {\n      newErrors.author = 'กรุณากรอกชื่อผู้แต่ง';\n    } else if (formData.author.length < 2) {\n      newErrors.author = 'ชื่อผู้แต่งต้องมีอย่างน้อย 2 ตัวอักษร';\n    }\n\n    // ISBN validation\n    if (!formData.isbn.trim()) {\n      newErrors.isbn = 'กรุณากรอก ISBN';\n    } else if (!/^[0-9-]+$/.test(formData.isbn)) {\n      newErrors.isbn = 'ISBN ต้องเป็นตัวเลขและเครื่องหมาย - เท่านั้น';\n    }\n\n    // Year validation\n    if (!formData.year) {\n      newErrors.year = 'กรุณากรอกปีที่ตีพิมพ์';\n    } else {\n      const yearNum = parseInt(formData.year);\n      const currentYear = new Date().getFullYear();\n      if (isNaN(yearNum)) {\n        newErrors.year = 'ปีต้องเป็นตัวเลขเท่านั้น';\n      } else if (yearNum < 1000 || yearNum > currentYear + 1) {\n        newErrors.year = `ปีต้องอยู่ระหว่าง 1000 ถึง ${currentYear + 1}`;\n      }\n    }\n\n    // Price validation\n    if (!formData.price) {\n      newErrors.price = 'กรุณากรอกราคา';\n    } else {\n      const priceNum = parseFloat(formData.price);\n      if (isNaN(priceNum)) {\n        newErrors.price = 'ราคาต้องเป็นตัวเลขเท่านั้น';\n      } else if (priceNum <= 0) {\n        newErrors.price = 'ราคาต้องมากกว่า 0';\n      } else if (priceNum > 999999) {\n        newErrors.price = 'ราคาต้องไม่เกิน 999,999 บาท';\n      }\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSuccessMessage('');\n\n    if (!validateForm()) {\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const response = await fetch('/api/v1/books/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          title: formData.title.trim(),\n          author: formData.author.trim(),\n          isbn: formData.isbn.trim(),\n          year: parseInt(formData.year),\n          price: parseFloat(formData.price)\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to add book');\n      }\n\n      const data = await response.json();\n      setSuccessMessage(`เพิ่มหนังสือ \"${data.title}\" สำเร็จ!`);\n\n      // Reset form\n      setFormData({\n        title: '',\n        author: '',\n        isbn: '',\n        year: '',\n        price: ''\n      });\n\n      // Clear success message after 5 seconds\n      setTimeout(() => setSuccessMessage(''), 5000);\n    } catch (error) {\n      setErrors({ submit: 'เกิดข้อผิดพลาดในการเพิ่มหนังสือ: ' + error.message });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('isAdminAuthenticated');\n    navigate('/login');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-gradient-to-r from-viridian-600 to-green-700 text-white shadow-lg\">\n        <div className=\"container mx-auto px-4 py-6\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center space-x-3\">\n              <BookOpenIcon className=\"h-8 w-8\" />\n              <h1 className=\"text-2xl font-bold\">BookStore - BackOffice</h1>\n            </div>\n            <button\n              onClick={handleLogout}\n              className=\"flex items-center space-x-2 px-4 py-2 bg-white/20 hover:bg-white/30\n                rounded-lg transition-colors\"\n            >\n              <LogoutIcon className=\"h-5 w-5\" />\n              <span>ออกจากระบบ</span>\n            </button>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"max-w-2xl mx-auto\">\n          <div className=\"bg-white rounded-xl shadow-lg p-8\">\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-6\">เพิ่มหนังสือใหม่</h2>\n\n            {successMessage && (\n              <div className=\"mb-6 bg-green-50 border border-green-400 text-green-700 px-4 py-3 rounded-lg\">\n                {successMessage}\n              </div>\n            )}\n\n            {errors.submit && (\n              <div className=\"mb-6 bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded-lg\">\n                {errors.submit}\n              </div>\n            )}\n\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {/* Title */}\n              <div>\n                <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  ชื่อหนังสือ <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"title\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleChange}\n                  className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2\n                    ${errors.title\n                      ? 'border-red-500 focus:ring-red-500'\n                      : 'border-gray-300 focus:ring-viridian-500'}`}\n                  placeholder=\"กรอกชื่อหนังสือ\"\n                />\n                {errors.title && (\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.title}</p>\n                )}\n              </div>\n\n              {/* Author */}\n              <div>\n                <label htmlFor=\"author\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  ชื่อผู้แต่ง <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"author\"\n                  name=\"author\"\n                  value={formData.author}\n                  onChange={handleChange}\n                  className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2\n                    ${errors.author\n                      ? 'border-red-500 focus:ring-red-500'\n                      : 'border-gray-300 focus:ring-viridian-500'}`}\n                  placeholder=\"กรอกชื่อผู้แต่ง\"\n                />\n                {errors.author && (\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.author}</p>\n                )}\n              </div>\n\n              {/* ISBN */}\n              <div>\n                <label htmlFor=\"isbn\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  ISBN <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"isbn\"\n                  name=\"isbn\"\n                  value={formData.isbn}\n                  onChange={handleChange}\n                  className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2\n                    ${errors.isbn\n                      ? 'border-red-500 focus:ring-red-500'\n                      : 'border-gray-300 focus:ring-viridian-500'}`}\n                  placeholder=\"กรอก ISBN (ตัวอย่าง: 978-3-16-148410-0)\"\n                />\n                {errors.isbn && (\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.isbn}</p>\n                )}\n              </div>\n\n              {/* Year and Price */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {/* Year */}\n                <div>\n                  <label htmlFor=\"year\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    ปีที่ตีพิมพ์ <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"number\"\n                    id=\"year\"\n                    name=\"year\"\n                    value={formData.year}\n                    onChange={handleChange}\n                    className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2\n                      ${errors.year\n                        ? 'border-red-500 focus:ring-red-500'\n                        : 'border-gray-300 focus:ring-viridian-500'}`}\n                    placeholder=\"เช่น 2024\"\n                  />\n                  {errors.year && (\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.year}</p>\n                  )}\n                </div>\n\n                {/* Price */}\n                <div>\n                  <label htmlFor=\"price\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    ราคา (บาท) <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"number\"\n                    id=\"price\"\n                    name=\"price\"\n                    value={formData.price}\n                    onChange={handleChange}\n                    step=\"0.01\"\n                    className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2\n                      ${errors.price\n                        ? 'border-red-500 focus:ring-red-500'\n                        : 'border-gray-300 focus:ring-viridian-500'}`}\n                    placeholder=\"เช่น 350.00\"\n                  />\n                  {errors.price && (\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.price}</p>\n                  )}\n                </div>\n              </div>\n\n              {/* Submit Button */}\n              <div className=\"flex gap-4\">\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  className={`flex-1 py-3 px-6 rounded-lg font-semibold text-white\n                    transition-colors duration-200\n                    ${isSubmitting\n                      ? 'bg-gray-400 cursor-not-allowed'\n                      : 'bg-viridian-600 hover:bg-viridian-700'}`}\n                >\n                  {isSubmitting ? 'กำลังบันทึก...' : 'เพิ่มหนังสือ'}\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => navigate('/')}\n                  className=\"px-6 py-3 border-2 border-gray-300 rounded-lg font-semibold\n                    text-gray-700 hover:bg-gray-50 transition-colors\"\n                >\n                  ยกเลิก\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddBookPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}